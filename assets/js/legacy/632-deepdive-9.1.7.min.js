"use strict";(self.webpackChunkdeepdive=self.webpackChunkdeepdive||[]).push([[632],{22383:(e,t,n)=>{function r(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,i,o){var a=r&&r.prototype instanceof c?r:c,l=Object.create(a.prototype);return u(l,"_invoke",function(n,r,u){var i,o,a,c=0,l=u||[],f=!1,h={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,o=0,a=e,h.n=n,s}};function d(n,r){for(o=n,a=r,t=0;!f&&c&&!u&&t<l.length;t++){var u,i=l[t],d=h.p,v=i[2];n>3?(u=v===r)&&(a=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=d&&((u=n<2&&d<i[1])?(o=0,h.v=r,h.n=i[1]):d<v&&(u=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,h.n=v,o=0))}if(u||n>1)return s;throw f=!0,r}return function(u,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),o=l,a=v;(t=o<2?e:a)||!f;){i||(o?o<3?(o>1&&(h.n=-1),d(o,a)):h.n=a:h.v=a);try{if(c=2,i){if(o||(u="next"),t=i[u]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,o<2&&(o=0)}else 1===o&&(t=i.return)&&t.call(i),o<2&&(a=TypeError("The iterator does not provide a '"+u+"' method"),o=1);i=e}else if((t=(f=h.n<0)?a:n.call(r,h))!==s)break}catch(t){i=e,o=1,a=t}finally{c=1}}return{value:t,done:f}}}(n,i,o),!0),l}var s={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var h=[][i]?t(t([][i]())):(u(t={},i,(function(){return this})),t),d=f.prototype=c.prototype=Object.create(h);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,u(d,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,i,(function(){return this})),u(d,"toString",(function(){return"[object Generator]"})),(r=function(){return{w:a,m:v}})()}function u(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}u=function(e,t,n,r){function o(t,n){u(e,t,(function(e){return this._invoke(t,n,e)}))}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},u(e,t,n,r)}function i(e,t,n,r,u,i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,u)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var o=e.apply(t,n);function a(e){i(o,r,u,a,s,"next",e)}function s(e){i(o,r,u,a,s,"throw",e)}a(void 0)}))}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,i,o,a=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,u=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw u}}return a}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function p(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}n.d(t,{A:()=>B});var D="KEYS",F="VALUES",_="",b=function(){return p((function e(t,n){y(this,e);var r=t._tree,u=Array.from(r.keys());this.set=t,this._type=n,this._path=u.length>0?[{node:r,keys:u}]:[]}),[{key:"next",value:function(){var e=this.dive();return this.backtrack(),e}},{key:"dive",value:function(){if(0===this._path.length)return{done:!0,value:void 0};var e=k(this._path),t=e.node,n=e.keys;if(k(n)===_)return{done:!1,value:this.result()};var r=t.get(k(n));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}},{key:"backtrack",value:function(){if(0!==this._path.length){var e=k(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}}},{key:"key",value:function(){return this.set._prefix+this._path.map((function(e){var t=e.keys;return k(t)})).filter((function(e){return e!==_})).join("")}},{key:"value",value:function(){return k(this._path).node.get(_)}},{key:"result",value:function(){switch(this._type){case F:return this.value();case D:return this.key();default:return[this.key(),this.value()]}}},{key:Symbol.iterator,value:function(){return this}}])}(),k=function(e){return e[e.length-1]},w=function(e,t,n,r,u,i,o,a){var s,c=i*o,l=f(e.keys());try{e:for(l.s();!(s=l.n()).done;){var h=s.value;if(h===_){var d=u[c-1];d<=n&&r.set(a,[e.get(h),d])}else{for(var v=i,y=0;y<h.length;++y,++v){for(var m=h[y],p=o*v,g=p-o,D=u[p],F=Math.max(0,v-n-1),b=Math.min(o-1,v+n),k=F;k<b;++k){var E=m!==t[k],C=u[g+k]+ +E,A=u[g+k+1]+1,S=u[p+k]+1,x=u[p+k+1]=Math.min(C,A,S);x<D&&(D=x)}if(D>n)continue e}w(e.get(h),t,n,r,u,v,o,a+h)}}}catch(e){l.e(e)}finally{l.f()}},E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";y(this,e),this._size=void 0,this._tree=t,this._prefix=n}return p(e,[{key:"atPrefix",value:function(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var n=l(C(this._tree,t.slice(this._prefix.length)),2),r=n[0],u=n[1];if(void 0===r){var i,o=l(O(u),2),a=o[0],s=o[1],c=f(a.keys());try{for(c.s();!(i=c.n()).done;){var h=i.value;if(h!==_&&h.startsWith(s)){var d=new Map;return d.set(h.slice(s.length),a.get(h)),new e(d,t)}}}catch(e){c.e(e)}finally{c.f()}}return new e(r,t)}},{key:"clear",value:function(){this._size=void 0,this._tree.clear()}},{key:"delete",value:function(e){return this._size=void 0,x(this._tree,e)}},{key:"entries",value:function(){return new b(this,"ENTRIES")}},{key:"forEach",value:function(e){var t,n=f(this);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2);e(r[0],r[1],this)}}catch(e){n.e(e)}finally{n.f()}}},{key:"fuzzyGet",value:function(e,t){return function(e,t,n){var r=new Map;if(void 0===t)return r;for(var u=t.length+1,i=u+n,o=new Uint8Array(i*u).fill(n+1),a=0;a<u;++a)o[a]=a;for(var s=1;s<i;++s)o[s*u]=s;return w(e,t,n,r,o,1,u,""),r}(this._tree,e,t)}},{key:"get",value:function(e){var t=A(this._tree,e);return void 0!==t?t.get(_):void 0}},{key:"has",value:function(e){var t=A(this._tree,e);return void 0!==t&&t.has(_)}},{key:"keys",value:function(){return new b(this,D)}},{key:"set",value:function(e,t){if("string"!=typeof e)throw new Error("key must be a string");return this._size=void 0,S(this._tree,e).set(_,t),this}},{key:"size",get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size}},{key:"update",value:function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var n=S(this._tree,e);return n.set(_,t(n.get(_))),this}},{key:"fetch",value:function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var n=S(this._tree,e),r=n.get(_);return void 0===r&&n.set(_,r=t()),r}},{key:"values",value:function(){return new b(this,F)}},{key:Symbol.iterator,value:function(){return this.entries()}}],[{key:"from",value:function(t){var n,r=new e,u=f(t);try{for(u.s();!(n=u.n()).done;){var i=l(n.value,2),o=i[0],a=i[1];r.set(o,a)}}catch(e){u.e(e)}finally{u.f()}return r}},{key:"fromObject",value:function(t){return e.from(Object.entries(t))}}])}(),C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===t.length||null==e)return[e,n];var r,u=f(e.keys());try{for(u.s();!(r=u.n()).done;){var i=r.value;if(i!==_&&t.startsWith(i))return n.push([e,i]),C(e.get(i),t.slice(i.length),n)}}catch(e){u.e(e)}finally{u.f()}return n.push([e,t]),C(void 0,"",n)},A=function(e,t){if(0===t.length||null==e)return e;var n,r=f(e.keys());try{for(r.s();!(n=r.n()).done;){var u=n.value;if(u!==_&&t.startsWith(u))return A(e.get(u),t.slice(u.length))}}catch(e){r.e(e)}finally{r.f()}},S=function(e,t){var n=t.length;e:for(var r=0;e&&r<n;){var u,i=f(e.keys());try{for(i.s();!(u=i.n()).done;){var o=u.value;if(o!==_&&t[r]===o[0]){for(var a=Math.min(n-r,o.length),s=1;s<a&&t[r+s]===o[s];)++s;var c=e.get(o);if(s===o.length)e=c;else{var l=new Map;l.set(o.slice(s),c),e.set(t.slice(r,r+s),l),e.delete(o),e=l}r+=s;continue e}}}catch(e){i.e(e)}finally{i.f()}var h=new Map;return e.set(t.slice(r),h),h}return e},x=function(e,t){var n=l(C(e,t),2),r=n[0],u=n[1];if(void 0!==r)if(r.delete(_),0===r.size)I(u);else if(1===r.size){var i=l(r.entries().next().value,2),o=i[0],a=i[1];z(u,o,a)}},I=function(e){if(0!==e.length){var t=l(O(e),2),n=t[0],r=t[1];if(n.delete(r),0===n.size)I(e.slice(0,-1));else if(1===n.size){var u=l(n.entries().next().value,2),i=u[0],o=u[1];i!==_&&z(e.slice(0,-1),i,o)}}},z=function(e,t,n){if(0!==e.length){var r=l(O(e),2),u=r[0],i=r[1];u.set(i+t,n),u.delete(i)}},O=function(e){return e[e.length-1]},j="or",B=function(){function e(t){if(y(this,e),null==(null==t?void 0:t.fields))throw new Error('MiniSearch: option "fields" must be provided');var n=null==t.autoVacuum||!0===t.autoVacuum?R:t.autoVacuum;this._options=s(s(s({},L),t),{},{autoVacuum:n,searchOptions:s(s({},W),t.searchOptions||{}),autoSuggestOptions:s(s({},q),t.autoSuggestOptions||{})}),this._index=new E,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=J,this.addFields(this._options.fields)}return p(e,[{key:"add",value:function(e){var t=this._options,n=t.extractField,r=t.tokenize,u=t.processTerm,i=t.fields,o=t.idField,a=n(e,o);if(null==a)throw new Error('MiniSearch: document does not have ID field "'.concat(o,'"'));if(this._idToShortId.has(a))throw new Error("MiniSearch: duplicate ID ".concat(a));var s=this.addDocumentId(a);this.saveStoredFields(s,e);var c,l=f(i);try{for(l.s();!(c=l.n()).done;){var h=c.value,d=n(e,h);if(null!=d){var v=r(d.toString(),h),y=this._fieldIds[h],m=new Set(v).size;this.addFieldLength(s,y,this._documentCount-1,m);var p,g=f(v);try{for(g.s();!(p=g.n()).done;){var D=u(p.value,h);if(Array.isArray(D)){var F,_=f(D);try{for(_.s();!(F=_.n()).done;){var b=F.value;this.addTerm(y,s,b)}}catch(e){_.e(e)}finally{_.f()}}else D&&this.addTerm(y,s,D)}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){l.e(e)}finally{l.f()}}},{key:"addAll",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.add(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addAllAsync",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).chunkSize,r=void 0===n?10:n,u={chunk:[],promise:Promise.resolve()},i=e.reduce((function(e,n,u){var i=e.chunk,o=e.promise;return i.push(n),(u+1)%r==0?{chunk:[],promise:o.then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return t.addAll(i)}))}:{chunk:i,promise:o}}),u),o=i.chunk;return i.promise.then((function(){return t.addAll(o)}))}},{key:"remove",value:function(e){var t=this._options,n=t.tokenize,r=t.processTerm,u=t.extractField,i=t.fields,o=t.idField,a=u(e,o);if(null==a)throw new Error('MiniSearch: document does not have ID field "'.concat(o,'"'));var s=this._idToShortId.get(a);if(null==s)throw new Error("MiniSearch: cannot remove document with ID ".concat(a,": it is not in the index"));var c,l=f(i);try{for(l.s();!(c=l.n()).done;){var h=c.value,d=u(e,h);if(null!=d){var v=n(d.toString(),h),y=this._fieldIds[h],m=new Set(v).size;this.removeFieldLength(s,y,this._documentCount,m);var p,g=f(v);try{for(g.s();!(p=g.n()).done;){var D=r(p.value,h);if(Array.isArray(D)){var F,_=f(D);try{for(_.s();!(F=_.n()).done;){var b=F.value;this.removeTerm(y,s,b)}}catch(e){_.e(e)}finally{_.f()}}else D&&this.removeTerm(y,s,D)}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){l.e(e)}finally{l.f()}this._storedFields.delete(s),this._documentIds.delete(s),this._idToShortId.delete(a),this._fieldLength.delete(s),this._documentCount-=1}},{key:"removeAll",value:function(e){if(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.remove(r)}}catch(e){n.e(e)}finally{n.f()}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new E,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}},{key:"discard",value:function(e){var t=this,n=this._idToShortId.get(e);if(null==n)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((function(e,r){t.removeFieldLength(n,r,t._documentCount,e)})),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}},{key:"maybeAutoVacuum",value:function(){if(!1!==this._options.autoVacuum){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,r=e.batchSize,u=e.batchWait;this.conditionalVacuum({batchSize:r,batchWait:u},{minDirtCount:n,minDirtFactor:t})}}},{key:"discardAll",value:function(e){var t=this._options.autoVacuum;try{this._options.autoVacuum=!1;var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var u=n.value;this.discard(u)}}catch(e){r.e(e)}finally{r.f()}}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}},{key:"replace",value:function(e){var t=this._options,n=t.idField,r=(0,t.extractField)(e,n);this.discard(r),this.add(e)}},{key:"vacuum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.conditionalVacuum(e)}},{key:"conditionalVacuum",value:function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then((function(){var t=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=J,n.performVacuuming(e,t)}))),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}},{key:"performVacuuming",value:(u=o(r().m((function e(t,n){var u,i,o,a,s,c,h,d,v,y,m,p,g,D,F,_,b,k,w,E,C;return r().w((function(e){for(;;)switch(e.p=e.n){case 0:if(u=this._dirtCount,!this.vacuumConditionsMet(n)){e.n=23;break}i=t.batchSize||N.batchSize,o=t.batchWait||N.batchWait,a=1,s=f(this._index),e.p=1,s.s();case 2:if((c=s.n()).done){e.n=19;break}h=l(c.value,2),d=h[0],v=h[1],y=f(v),e.p=3,y.s();case 4:if((m=y.n()).done){e.n=13;break}p=l(m.value,2),g=p[0],D=p[1],F=f(D),e.p=5,F.s();case 6:if((_=F.n()).done){e.n=9;break}if(b=l(_.value,1),k=b[0],!this._documentIds.has(k)){e.n=7;break}return e.a(3,8);case 7:D.size<=1?v.delete(g):D.delete(k);case 8:e.n=6;break;case 9:e.n=11;break;case 10:e.p=10,w=e.v,F.e(w);case 11:return e.p=11,F.f(),e.f(11);case 12:e.n=4;break;case 13:e.n=15;break;case 14:e.p=14,E=e.v,y.e(E);case 15:return e.p=15,y.f(),e.f(15);case 16:if(0===this._index.get(d).size&&this._index.delete(d),a%i!=0){e.n=17;break}return e.n=17,new Promise((function(e){return setTimeout(e,o)}));case 17:a+=1;case 18:e.n=2;break;case 19:e.n=21;break;case 20:e.p=20,C=e.v,s.e(C);case 21:return e.p=21,s.f(),e.f(21);case 22:this._dirtCount-=u;case 23:return e.n=24,null;case 24:this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null;case 25:return e.a(2)}}),e,this,[[5,10,11,12],[3,14,15,16],[1,20,21,22]])}))),function(e,t){return u.apply(this,arguments)})},{key:"vacuumConditionsMet",value:function(e){if(null==e)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||R.minDirtCount,n=n||R.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n}},{key:"isVacuuming",get:function(){return null!=this._currentVacuum}},{key:"dirtCount",get:function(){return this._dirtCount}},{key:"dirtFactor",get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}},{key:"has",value:function(e){return this._idToShortId.has(e)}},{key:"getStoredFields",value:function(e){var t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)}},{key:"search",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s(s({},this._options.searchOptions),r),i=[],o=f(this.executeQuery(t,r));try{for(o.s();!(n=o.n()).done;){var a=l(n.value,2),c=a[0],h=a[1],d=h.score,v=h.terms,y=h.match,m=v.length||1,p={id:this._documentIds.get(c),score:d*m,terms:Object.keys(y),queryTerms:v,match:y};Object.assign(p,this._storedFields.get(c)),(null==u.filter||u.filter(p))&&i.push(p)}}catch(e){o.e(e)}finally{o.f()}return t===e.wildcard&&null==u.boostDocument||i.sort(U),i}},{key:"autoSuggest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=s(s({},this._options.autoSuggestOptions),t);var n,r=new Map,u=f(this.search(e,t));try{for(u.s();!(n=u.n()).done;){var i=n.value,o=i.score,a=i.terms,c=a.join(" "),h=r.get(c);null!=h?(h.score+=o,h.count+=1):r.set(c,{score:o,terms:a,count:1})}}catch(e){u.e(e)}finally{u.f()}var d,v=[],y=f(r);try{for(y.s();!(d=y.n()).done;){var m=l(d.value,2),p=m[0],g=m[1],D=g.score,F=g.terms,_=g.count;v.push({suggestion:p,terms:F,score:D/_})}}catch(e){y.e(e)}finally{y.f()}return v.sort(U),v}},{key:"documentCount",get:function(){return this._documentCount}},{key:"termCount",get:function(){return this._index.size}},{key:"executeQuery",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t===e.wildcard)return this.executeWildcardQuery(r);if("string"!=typeof t){var u=s(s(s({},r),t),{},{queries:void 0}),i=t.queries.map((function(e){return n.executeQuery(e,u)}));return this.combineResults(i,u.combineWith)}var o=this._options,a=s(s({tokenize:o.tokenize,processTerm:o.processTerm},o.searchOptions),r),c=a.tokenize,l=a.processTerm,f=c(t).flatMap((function(e){return l(e)})).filter((function(e){return!!e})).map(V(a)).map((function(e){return n.executeQuerySpec(e,a)}));return this.combineResults(f,a.combineWith)}},{key:"executeQuerySpec",value:function(e,t){var n,r,u=s(s({},this._options.searchOptions),t),i=(u.fields||this._options.fields).reduce((function(e,t){return s(s({},e),{},c({},t,M(u.boost,t)||1))}),{}),o=u.boostDocument,a=u.weights,h=u.maxFuzzy,d=u.bm25,v=s(s({},W.weights),a),y=v.fuzzy,m=v.prefix,p=this._index.get(e.term),g=this.termResults(e.term,e.term,1,e.termBoost,p,i,o,d);if(e.prefix&&(n=this._index.atPrefix(e.term)),e.fuzzy){var D=!0===e.fuzzy?.2:e.fuzzy,F=D<1?Math.min(h,Math.round(e.term.length*D)):D;F&&(r=this._index.fuzzyGet(e.term,F))}if(n){var _,b=f(n);try{for(b.s();!(_=b.n()).done;){var k=l(_.value,2),w=k[0],E=k[1],C=w.length-e.term.length;if(C){null==r||r.delete(w);var A=m*w.length/(w.length+.3*C);this.termResults(e.term,w,A,e.termBoost,E,i,o,d,g)}}}catch(e){b.e(e)}finally{b.f()}}if(r){var S,x=f(r.keys());try{for(x.s();!(S=x.n()).done;){var I=S.value,z=l(r.get(I),2),O=z[0],j=z[1];if(j){var B=y*I.length/(I.length+j);this.termResults(e.term,I,B,e.termBoost,O,i,o,d,g)}}}catch(e){x.e(e)}finally{x.f()}}return g}},{key:"executeWildcardQuery",value:function(e){var t,n=new Map,r=s(s({},this._options.searchOptions),e),u=f(this._documentIds);try{for(u.s();!(t=u.n()).done;){var i=l(t.value,2),o=i[0],a=i[1],c=r.boostDocument?r.boostDocument(a,"",this._storedFields.get(o)):1;n.set(o,{score:c,terms:[],match:{}})}}catch(e){u.e(e)}finally{u.f()}return n}},{key:"combineResults",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;if(0===e.length)return new Map;var n=t.toLowerCase(),r=P[n];if(!r)throw new Error("Invalid combination operator: ".concat(t));return e.reduce(r)||new Map}},{key:"toJSON",value:function(){var e,t=[],n=f(this._index);try{for(n.s();!(e=n.n()).done;){var r,u=l(e.value,2),i=u[0],o=u[1],a={},s=f(o);try{for(s.s();!(r=s.n()).done;){var c=l(r.value,2),h=c[0],d=c[1];a[h]=Object.fromEntries(d)}}catch(e){s.e(e)}finally{s.f()}t.push([i,a])}}catch(e){n.e(e)}finally{n.f()}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}},{key:"termResults",value:function(e,t,n,r,u,i,o,a){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new Map;if(null==u)return s;for(var l=0,h=Object.keys(i);l<h.length;l++){var d=h[l],v=i[d],y=this._fieldIds[d],m=u.get(y);if(null!=m){var p,g=m.size,D=this._avgFieldLength[y],F=f(m.keys());try{for(F.s();!(p=F.n()).done;){var _=p.value;if(this._documentIds.has(_)){var b=o?o(this._documentIds.get(_),t,this._storedFields.get(_)):1;if(b){var k=m.get(_),w=this._fieldLength.get(_)[y],E=n*r*v*b*T(k,g,this._documentCount,w,D,a),C=s.get(_);if(C){C.score+=E,G(C.terms,e);var A=M(C.match,t);A?A.push(d):C.match[t]=[d]}else s.set(_,{score:E,terms:[e],match:c({},t,[d])})}}else this.removeTerm(y,_,t),g-=1}}catch(e){F.e(e)}finally{F.f()}}}return s}},{key:"addTerm",value:function(e,t,n){var r=this._index.fetch(n,K),u=r.get(e);if(null==u)(u=new Map).set(t,1),r.set(e,u);else{var i=u.get(t);u.set(t,(i||0)+1)}}},{key:"removeTerm",value:function(e,t,n){if(this._index.has(n)){var r=this._index.fetch(n,K),u=r.get(e);null==u||null==u.get(t)?this.warnDocumentChanged(t,e,n):u.get(t)<=1?u.size<=1?r.delete(e):u.delete(t):u.set(t,u.get(t)-1),0===this._index.get(n).size&&this._index.delete(n)}else this.warnDocumentChanged(t,e,n)}},{key:"warnDocumentChanged",value:function(e,t,n){for(var r=0,u=Object.keys(this._fieldIds);r<u.length;r++){var i=u[r];if(this._fieldIds[i]===t)return void this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(i,'". Removing a document after it has changed can corrupt the index!'),"version_conflict")}}},{key:"addDocumentId",value:function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}},{key:"addFields",value:function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t}},{key:"addFieldLength",value:function(e,t,n,r){var u=this._fieldLength.get(e);null==u&&this._fieldLength.set(e,u=[]),u[t]=r;var i=(this._avgFieldLength[t]||0)*n+r;this._avgFieldLength[t]=i/(n+1)}},{key:"removeFieldLength",value:function(e,t,n,r){if(1!==n){var u=this._avgFieldLength[t]*n-r;this._avgFieldLength[t]=u/(n-1)}else this._avgFieldLength[t]=0}},{key:"saveStoredFields",value:function(e,t){var n=this._options,r=n.storeFields,u=n.extractField;if(null!=r&&0!==r.length){var i=this._storedFields.get(e);null==i&&this._storedFields.set(e,i={});var o,a=f(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=u(t,s);void 0!==c&&(i[s]=c)}}catch(e){a.e(e)}finally{a.f()}}}}],[{key:"loadJSON",value:function(e,t){if(null==t)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}},{key:"loadJSONAsync",value:(n=o(r().m((function e(t,n){return r().w((function(e){for(;;)switch(e.n){case 0:if(null!=n){e.n=1;break}throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");case 1:return e.a(2,this.loadJSAsync(JSON.parse(t),n))}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getDefault",value:function(e){if(L.hasOwnProperty(e))return M(L,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))}},{key:"loadJS",value:function(e,t){var n=e.index,r=e.documentIds,u=e.fieldLength,i=e.storedFields,o=e.serializationVersion,a=this.instantiateMiniSearch(e,t);a._documentIds=Y(r),a._fieldLength=Y(u),a._storedFields=Y(i);var s,c=f(a._documentIds);try{for(c.s();!(s=c.n()).done;){var h=l(s.value,2),d=h[0],v=h[1];a._idToShortId.set(v,d)}}catch(e){c.e(e)}finally{c.f()}var y,m=f(n);try{for(m.s();!(y=m.n()).done;){for(var p=l(y.value,2),g=p[0],D=p[1],F=new Map,_=0,b=Object.keys(D);_<b.length;_++){var k=b[_],w=D[k];1===o&&(w=w.ds),F.set(parseInt(k,10),Y(w))}a._index.set(g,F)}}catch(e){m.e(e)}finally{m.f()}return a}},{key:"loadJSAsync",value:(t=o(r().m((function e(t,n){var u,i,o,a,s,c,h,d,v,y,m,p,g,D,F,_,b,k,w,E,C,A,S,x,I,z;return r().w((function(e){for(;;)switch(e.p=e.n){case 0:return u=t.index,i=t.documentIds,o=t.fieldLength,a=t.storedFields,s=t.serializationVersion,c=this.instantiateMiniSearch(t,n),e.n=1,$(i);case 1:return c._documentIds=e.v,e.n=2,$(o);case 2:return c._fieldLength=e.v,e.n=3,$(a);case 3:c._storedFields=e.v,h=f(c._documentIds);try{for(h.s();!(d=h.n()).done;)v=l(d.value,2),y=v[0],m=v[1],c._idToShortId.set(m,y)}catch(e){h.e(e)}finally{h.f()}p=0,g=f(u),e.p=4,g.s();case 5:if((D=g.n()).done){e.n=12;break}F=l(D.value,2),_=F[0],b=F[1],k=new Map,w=0,E=Object.keys(b);case 6:if(!(w<E.length)){e.n=9;break}return C=E[w],A=b[C],1===s&&(A=A.ds),S=k,x=parseInt(C,10),e.n=7,$(A);case 7:I=e.v,S.set.call(S,x,I);case 8:w++,e.n=6;break;case 9:if(++p%1e3!=0){e.n=10;break}return e.n=10,H(0);case 10:c._index.set(_,k);case 11:e.n=5;break;case 12:e.n=14;break;case 13:e.p=13,z=e.v,g.e(z);case 14:return e.p=14,g.f(),e.f(14);case 15:return e.a(2,c)}}),e,this,[[4,13,14,15]])}))),function(e,n){return t.apply(this,arguments)})},{key:"instantiateMiniSearch",value:function(t,n){var r=t.documentCount,u=t.nextId,i=t.fieldIds,o=t.averageFieldLength,a=t.dirtCount,s=t.serializationVersion;if(1!==s&&2!==s)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var c=new e(n);return c._documentCount=r,c._nextId=u,c._idToShortId=new Map,c._fieldIds=i,c._avgFieldLength=o,c._dirtCount=a||0,c._index=new E,c}}]);var t,n,u}();B.wildcard=Symbol("*");var M=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},P=c(c(c({},j,(function(e,t){var n,r=f(t.keys());try{for(r.s();!(n=r.n()).done;){var u=n.value,i=e.get(u);if(null==i)e.set(u,t.get(u));else{var o=t.get(u),a=o.score,s=o.terms,c=o.match;i.score=i.score+a,i.match=Object.assign(i.match,c),Q(i.terms,s)}}}catch(e){r.e(e)}finally{r.f()}return e})),"and",(function(e,t){var n,r=new Map,u=f(t.keys());try{for(u.s();!(n=u.n()).done;){var i=n.value,o=e.get(i);if(null!=o){var a=t.get(i),s=a.score,c=a.terms,l=a.match;Q(o.terms,c),r.set(i,{score:o.score+s,terms:o.terms,match:Object.assign(o.match,l)})}}}catch(e){u.e(e)}finally{u.f()}return r})),"and_not",(function(e,t){var n,r=f(t.keys());try{for(r.s();!(n=r.n()).done;){var u=n.value;e.delete(u)}}catch(e){r.e(e)}finally{r.f()}return e})),T=function(e,t,n,r,u,i){var o=i.k,a=i.b,s=i.d;return Math.log(1+(n-t+.5)/(t+.5))*(s+e*(o+1)/(e+o*(1-a+a*r/u)))},V=function(e){return function(t,n,r){return{term:t,fuzzy:"function"==typeof e.fuzzy?e.fuzzy(t,n,r):e.fuzzy||!1,prefix:"function"==typeof e.prefix?e.prefix(t,n,r):!0===e.prefix,termBoost:"function"==typeof e.boostTerm?e.boostTerm(t,n,r):1}}},L={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e){return e.split(X)},processTerm:function(e){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(e,t){"function"==typeof(null===console||void 0===console?void 0:console[e])&&console[e](t)},autoVacuum:!0},W={combineWith:j,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},q={combineWith:"and",prefix:function(e,t,n){return t===n.length-1}},N={batchSize:1e3,batchWait:10},J={minDirtFactor:.1,minDirtCount:20},R=s(s({},N),J),G=function(e,t){e.includes(t)||e.push(t)},Q=function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var u=n.value;e.includes(u)||e.push(u)}}catch(e){r.e(e)}finally{r.f()}},U=function(e,t){var n=e.score;return t.score-n},K=function(){return new Map},Y=function(e){for(var t=new Map,n=0,r=Object.keys(e);n<r.length;n++){var u=r[n];t.set(parseInt(u,10),e[u])}return t},$=function(){var e=o(r().m((function e(t){var n,u,i,o,a;return r().w((function(e){for(;;)switch(e.n){case 0:n=new Map,u=0,i=0,o=Object.keys(t);case 1:if(!(i<o.length)){e.n=3;break}if(a=o[i],n.set(parseInt(a,10),t[a]),++u%1e3!=0){e.n=2;break}return e.n=2,H(0);case 2:i++,e.n=1;break;case 3:return e.a(2,n)}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){return new Promise((function(t){return setTimeout(t,e)}))},X=/(?:[\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])+/},33682:(e,t,n)=>{n.d(t,{J:()=>E});const r=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const e=1&i?t:n;if(e){try{u(r,1,e(this.v))}catch(e){u(r,2,e)}return r}return this}return this.o=function(e){try{const i=e.v;1&e.s?u(r,1,t?t(i):i):n?u(r,1,n(i)):u(r,2,i)}catch(e){u(r,2,e)}},r},e}();function u(e,t,n){if(!e.s){if(n instanceof r){if(!n.s)return void(n.o=u.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(u.bind(null,e,t),u.bind(null,e,2));e.s=t,e.v=n;const i=e.o;i&&i(e)}}var i=0,o="function"==typeof WeakMap?WeakMap:function(){var e="function"==typeof Symbol?Symbol(0):"__weak$"+ ++i;this.set=function(t,n){t[e]=n},this.get=function(t){return t[e]}};function a(e,t){return new Promise((function(n,r){e.onsuccess=function(){var r=e.result;t&&(r=t(r)),n(r)},e.onerror=function(){r(e.error)}}))}function s(e,t){return a(e.openCursor(t),(function(e){return e?[e.key,e.value]:[]}))}function c(e){return new Promise((function(t,n){e.oncomplete=function(){t()},e.onabort=function(){n(e.error)},e.onerror=function(){n(e.error)}}))}function l(e){if(!function(e){if("number"==typeof e||"string"==typeof e)return!0;if("object"==typeof e&&e){if(Array.isArray(e))return!0;if("setUTCFullYear"in e)return!0;if("function"==typeof ArrayBuffer&&ArrayBuffer.isView(e))return!0;if("byteLength"in e&&"length"in e)return!0}return!1}(e))throw Error("kv-storage: The given value is not allowed as a key")}var f={};function h(e,t){return s(e,d(t))}function d(e){return e===f?IDBKeyRange.lowerBound(-1/0):IDBKeyRange.lowerBound(e,!0)}var v=new o,y=new o,m=new o,p=new o,g=function(){};function D(e,t){return t((function(t,n){try{function f(){return y.set(e,o),m.set(e,void 0),{value:c,done:void 0===o}}var i=y.get(e);if(void 0===i)return Promise.resolve({value:void 0,done:!0});var o,a,c,l=function(e,t){var n,i=-1;e:{for(var o=0;o<t.length;o++){var a=t[o][0];if(a){var s=a();if(s&&s.then)break e;if(s===e){i=o;break}}else i=o}if(-1!==i){do{for(var c=t[i][1];!c;)c=t[++i][1];var l=c();if(l&&l.then){n=!0;break e}var f=t[i][2];i++}while(f&&!f());return l}}const h=new r,d=u.bind(null,h,2);return(n?l.then(v):s.then((function n(r){for(;;){if(r===e){i=o;break}if(++o===t.length){if(-1!==i)break;return void u(h,1,c)}if(a=t[o][0]){if((r=a())&&r.then)return void r.then(n).then(void 0,d)}else i=o}do{for(var s=t[i][1];!s;)s=t[++i][1];var c=s();if(c&&c.then)return void c.then(v).then(void 0,d);var l=t[i][2];i++}while(l&&!l());u(h,1,c)}))).then(void 0,d),h;function v(e){for(;;){var n=t[i][2];if(!n||n())break;for(var r=t[++i][1];!r;)r=t[++i][1];if((e=r())&&e.then)return void e.then(v).then(void 0,d)}u(h,1,e)}}(p.get(e),[[function(){return"keys"},function(){return Promise.resolve(function(e,t){return s(e,d(t)).then((function(e){return e[0]}))}(n,i)).then((function(e){c=o=e}))}],[function(){return"values"},function(){return Promise.resolve(h(n,i)).then((function(e){var t;o=(t=e)[0],c=a=t[1]}))}],[function(){return"entries"},function(){return Promise.resolve(h(n,i)).then((function(e){var t;a=(t=e)[1],c=void 0===(o=t[0])?void 0:[o,a]}))}]]);return Promise.resolve(l&&l.then?l.then(f):f())}catch(v){return Promise.reject(v)}}))}function F(e,t){var n=new g;return p.set(n,e),v.set(n,t),y.set(n,f),m.set(n,void 0),n}g.prototype.return=function(){y.set(this,void 0)},g.prototype.next=function(){var e=this,t=v.get(this);if(!t)return Promise.reject(new TypeError("Invalid this value"));var n,r=m.get(this);return n=void 0!==r?r.then((function(){return D(e,t)})):D(this,t),m.set(this,n),n},"function"==typeof Symbol&&Symbol.asyncIterator&&(g.prototype[Symbol.asyncIterator]=function(){return this});var _=function(e,t,n){try{return null===k.get(e)&&function(e){var t=b.get(e);k.set(e,new Promise((function(n,r){var u=self.indexedDB.open(t,1);u.onsuccess=function(){var i=u.result;(function(e,t,n){if(1!==e.objectStoreNames.length)return n(C(t)),!1;if(e.objectStoreNames[0]!==w)return n(C(t)),!1;var r=e.transaction(w,"readonly").objectStore(w);return!(r.autoIncrement||r.keyPath||r.indexNames.length)||(n(C(t)),!1)})(i,t,r)&&(i.onclose=function(){k.set(e,null)},i.onversionchange=function(){i.close(),k.set(e,null)},n(i))},u.onerror=function(){return r(u.error)},u.onupgradeneeded=function(){try{u.result.createObjectStore(w)}catch(e){r(e)}}})))}(e),Promise.resolve(k.get(e)).then((function(e){var r=e.transaction(w,t),u=r.objectStore(w);return n(r,u)}))}catch(e){return Promise.reject(e)}},b=new o,k=new o,w="store",E=function(e){var t="kv-storage:"+e;k.set(this,null),b.set(this,t),this.backingStore={database:t,store:w,version:1}};function C(e){return new Error('kv-storage: database "'+e+'" corrupted')}E.prototype.set=function(e,t){try{return l(e),_(this,"readwrite",(function(n,r){return void 0===t?r.delete(e):r.put(t,e),c(n)}))}catch(e){return Promise.reject(e)}},E.prototype.get=function(e){try{return l(e),_(this,"readonly",(function(t,n){return a(n.get(e))}))}catch(e){return Promise.reject(e)}},E.prototype.delete=function(e){try{return l(e),_(this,"readwrite",(function(t,n){return n.delete(e),c(t)}))}catch(e){return Promise.reject(e)}},E.prototype.clear=function(){try{var e=this;function u(){function n(){return a(self.indexedDB.deleteDatabase(b.get(e)))}var r=function(){if(t){try{t.close()}catch(e){}return Promise.resolve(new Promise(setTimeout)).then((function(){}))}}();return r&&r.then?r.then(n):n()}var t,n=k.get(e),r=function(){if(null!==n){function u(){k.set(e,null)}var r=function(){try{var e=Promise.resolve(n).then((function(e){t=e}))}catch(e){return}return e&&e.then?e.then(void 0,(function(){})):e}();return r&&r.then?r.then(u):u()}}();return r&&r.then?r.then(u):u()}catch(e){return Promise.reject(e)}},E.prototype.keys=function(){var e=this;return F("keys",(function(t){return _(e,"readonly",t)}))},E.prototype.values=function(){var e=this;return F("values",(function(t){return _(e,"readonly",t)}))},E.prototype.entries=function(){var e=this;return F("entries",(function(t){return _(e,"readonly",t)}))},"function"==typeof Symbol&&Symbol.asyncIterator&&(E.prototype[Symbol.asyncIterator]=E.prototype.entries);new E("default")}}]);