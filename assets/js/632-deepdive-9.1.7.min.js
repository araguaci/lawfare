"use strict";(self.webpackChunkdeepdive=self.webpackChunkdeepdive||[]).push([[632],{2383:(e,t,r)=>{function n(e,t,r,n,i,u,o){try{var s=e[u](o),a=s.value}catch(e){return void r(e)}s.done?t(a):Promise.resolve(a).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,u){var o=e.apply(t,r);function s(e){n(o,i,u,s,a,"next",e)}function a(e){n(o,i,u,s,a,"throw",e)}s(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>E});var a="KEYS",h="VALUES",c="";class d{constructor(e,t){var r=e._tree,n=Array.from(r.keys());this.set=e,this._type=t,this._path=n.length>0?[{node:r,keys:n}]:[]}next(){var e=this.dive();return this.backtrack(),e}dive(){if(0===this._path.length)return{done:!0,value:void 0};var{node:e,keys:t}=l(this._path);if(l(t)===c)return{done:!1,value:this.result()};var r=e.get(l(t));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(0!==this._path.length){var e=l(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}}key(){return this.set._prefix+this._path.map((e=>{var{keys:t}=e;return l(t)})).filter((e=>e!==c)).join("")}value(){return l(this._path).node.get(c)}result(){switch(this._type){case h:return this.value();case a:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}var l=e=>e[e.length-1],f=(e,t,r,n,i,u,o,s)=>{var a=u*o;e:for(var h of e.keys())if(h===c){var d=i[a-1];d<=r&&n.set(s,[e.get(h),d])}else{for(var l=u,v=0;v<h.length;++v,++l){for(var m=h[v],D=o*l,F=D-o,g=i[D],p=Math.max(0,l-r-1),_=Math.min(o-1,l+r),y=p;y<_;++y){var w=m!==t[y],b=i[F+y]+ +w,C=i[F+y+1]+1,E=i[D+y]+1,A=i[D+y+1]=Math.min(b,C,E);A<g&&(g=A)}if(g>r)continue e}f(e.get(h),t,r,n,i,l,o,s+h)}};class v{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._size=void 0,this._tree=e,this._prefix=t}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var[t,r]=m(this._tree,e.slice(this._prefix.length));if(void 0===t){var[n,i]=y(r);for(var u of n.keys())if(u!==c&&u.startsWith(i)){var o=new Map;return o.set(u.slice(i.length),n.get(u)),new v(o,e)}}return new v(t,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,g(this._tree,e)}entries(){return new d(this,"ENTRIES")}forEach(e){for(var[t,r]of this)e(t,r,this)}fuzzyGet(e,t){return((e,t,r)=>{var n=new Map;if(void 0===t)return n;for(var i=t.length+1,u=i+r,o=new Uint8Array(u*i).fill(r+1),s=0;s<i;++s)o[s]=s;for(var a=1;a<u;++a)o[a*i]=a;return f(e,t,r,n,o,1,i,""),n})(this._tree,e,t)}get(e){var t=D(this._tree,e);return void 0!==t?t.get(c):void 0}has(e){var t=D(this._tree,e);return void 0!==t&&t.has(c)}keys(){return new d(this,a)}set(e,t){if("string"!=typeof e)throw new Error("key must be a string");return this._size=void 0,F(this._tree,e).set(c,t),this}get size(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size}update(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var r=F(this._tree,e);return r.set(c,t(r.get(c))),this}fetch(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var r=F(this._tree,e),n=r.get(c);return void 0===n&&r.set(c,n=t()),n}values(){return new d(this,h)}[Symbol.iterator](){return this.entries()}static from(e){var t=new v;for(var[r,n]of e)t.set(r,n);return t}static fromObject(e){return v.from(Object.entries(e))}}var m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===t.length||null==e)return[e,r];for(var n of e.keys())if(n!==c&&t.startsWith(n))return r.push([e,n]),m(e.get(n),t.slice(n.length),r);return r.push([e,t]),m(void 0,"",r)},D=(e,t)=>{if(0===t.length||null==e)return e;for(var r of e.keys())if(r!==c&&t.startsWith(r))return D(e.get(r),t.slice(r.length))},F=(e,t)=>{var r=t.length;e:for(var n=0;e&&n<r;){for(var i of e.keys())if(i!==c&&t[n]===i[0]){for(var u=Math.min(r-n,i.length),o=1;o<u&&t[n+o]===i[o];)++o;var s=e.get(i);if(o===i.length)e=s;else{var a=new Map;a.set(i.slice(o),s),e.set(t.slice(n,n+o),a),e.delete(i),e=a}n+=o;continue e}var h=new Map;return e.set(t.slice(n),h),h}return e},g=(e,t)=>{var[r,n]=m(e,t);if(void 0!==r)if(r.delete(c),0===r.size)p(n);else if(1===r.size){var[i,u]=r.entries().next().value;_(n,i,u)}},p=e=>{if(0!==e.length){var[t,r]=y(e);if(t.delete(r),0===t.size)p(e.slice(0,-1));else if(1===t.size){var[n,i]=t.entries().next().value;n!==c&&_(e.slice(0,-1),n,i)}}},_=(e,t,r)=>{if(0!==e.length){var[n,i]=y(e);n.set(i+t,r),n.delete(i)}},y=e=>e[e.length-1],w="or",b="and",C="and_not";class E{constructor(e){if(null==(null==e?void 0:e.fields))throw new Error('MiniSearch: option "fields" must be provided');var t=null==e.autoVacuum||!0===e.autoVacuum?j:e.autoVacuum;this._options=o(o(o({},I),e),{},{autoVacuum:t,searchOptions:o(o({},z),e.searchOptions||{}),autoSuggestOptions:o(o({},O),e.autoSuggestOptions||{})}),this._index=new v,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=M,this.addFields(this._options.fields)}add(e){var{extractField:t,tokenize:r,processTerm:n,fields:i,idField:u}=this._options,o=t(e,u);if(null==o)throw new Error('MiniSearch: document does not have ID field "'.concat(u,'"'));if(this._idToShortId.has(o))throw new Error("MiniSearch: duplicate ID ".concat(o));var s=this.addDocumentId(o);for(var a of(this.saveStoredFields(s,e),i)){var h=t(e,a);if(null!=h){var c=r(h.toString(),a),d=this._fieldIds[a],l=new Set(c).size;for(var f of(this.addFieldLength(s,d,this._documentCount-1,l),c)){var v=n(f,a);if(Array.isArray(v))for(var m of v)this.addTerm(d,s,m);else v&&this.addTerm(d,s,v)}}}}addAll(e){for(var t of e)this.add(t)}addAllAsync(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{chunkSize:r=10}=t,n={chunk:[],promise:Promise.resolve()},{chunk:i,promise:u}=e.reduce(((e,t,n)=>{var{chunk:i,promise:u}=e;return i.push(t),(n+1)%r==0?{chunk:[],promise:u.then((()=>new Promise((e=>setTimeout(e,0))))).then((()=>this.addAll(i)))}:{chunk:i,promise:u}}),n);return u.then((()=>this.addAll(i)))}remove(e){var{tokenize:t,processTerm:r,extractField:n,fields:i,idField:u}=this._options,o=n(e,u);if(null==o)throw new Error('MiniSearch: document does not have ID field "'.concat(u,'"'));var s=this._idToShortId.get(o);if(null==s)throw new Error("MiniSearch: cannot remove document with ID ".concat(o,": it is not in the index"));for(var a of i){var h=n(e,a);if(null!=h){var c=t(h.toString(),a),d=this._fieldIds[a],l=new Set(c).size;for(var f of(this.removeFieldLength(s,d,this._documentCount,l),c)){var v=r(f,a);if(Array.isArray(v))for(var m of v)this.removeTerm(d,s,m);else v&&this.removeTerm(d,s,v)}}}this._storedFields.delete(s),this._documentIds.delete(s),this._idToShortId.delete(o),this._fieldLength.delete(s),this._documentCount-=1}removeAll(e){if(e)for(var t of e)this.remove(t);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new v,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){var t=this._idToShortId.get(e);if(null==t)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach(((e,r)=>{this.removeFieldLength(t,r,this._documentCount,e)})),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(!1!==this._options.autoVacuum){var{minDirtFactor:e,minDirtCount:t,batchSize:r,batchWait:n}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:n},{minDirtCount:t,minDirtFactor:e})}}discardAll(e){var t=this._options.autoVacuum;try{for(var r of(this._options.autoVacuum=!1,e))this.discard(r)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){var{idField:t,extractField:r}=this._options,n=r(e,t);this.discard(n),this.add(e)}vacuum(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then((()=>{var t=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=M,this.performVacuuming(e,t)}))),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}performVacuuming(e,t){var r=this;return i((function*(){var n=r._dirtCount;if(r.vacuumConditionsMet(t)){var i=e.batchSize||B.batchSize,u=e.batchWait||B.batchWait,o=1;for(var[s,a]of r._index){for(var[h,c]of a)for(var[d]of c)r._documentIds.has(d)||(c.size<=1?a.delete(h):c.delete(d));0===r._index.get(s).size&&r._index.delete(s),o%i==0&&(yield new Promise((e=>setTimeout(e,u)))),o+=1}r._dirtCount-=n}yield null,r._currentVacuum=r._enqueuedVacuum,r._enqueuedVacuum=null}))()}vacuumConditionsMet(e){if(null==e)return!0;var{minDirtCount:t,minDirtFactor:r}=e;return t=t||j.minDirtCount,r=r||j.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=r}get isVacuuming(){return null!=this._currentVacuum}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){var t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)}search(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{searchOptions:r}=this._options,n=o(o({},r),t),i=this.executeQuery(e,t),u=[];for(var[s,{score:a,terms:h,match:c}]of i){var d=h.length||1,l={id:this._documentIds.get(s),score:a*d,terms:Object.keys(c),queryTerms:h,match:c};Object.assign(l,this._storedFields.get(s)),(null==n.filter||n.filter(l))&&u.push(l)}return e===E.wildcard&&null==n.boostDocument||u.sort(T),u}autoSuggest(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=o(o({},this._options.autoSuggestOptions),t);var r=new Map;for(var{score:n,terms:i}of this.search(e,t)){var u=i.join(" "),s=r.get(u);null!=s?(s.score+=n,s.count+=1):r.set(u,{score:n,terms:i,count:1})}var a=[];for(var[h,{score:c,terms:d,count:l}]of r)a.push({suggestion:h,terms:d,score:c/l});return a.sort(T),a}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(null==t)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}static loadJSONAsync(e,t){var r=this;return i((function*(){if(null==t)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return r.loadJSAsync(JSON.parse(e),t)}))()}static getDefault(e){if(I.hasOwnProperty(e))return A(I,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))}static loadJS(e,t){var{index:r,documentIds:n,fieldLength:i,storedFields:u,serializationVersion:o}=e,s=this.instantiateMiniSearch(e,t);for(var[a,h]of(s._documentIds=W(n),s._fieldLength=W(i),s._storedFields=W(u),s._documentIds))s._idToShortId.set(h,a);for(var[c,d]of r){var l=new Map;for(var f of Object.keys(d)){var v=d[f];1===o&&(v=v.ds),l.set(parseInt(f,10),W(v))}s._index.set(c,l)}return s}static loadJSAsync(e,t){var r=this;return i((function*(){var{index:n,documentIds:i,fieldLength:u,storedFields:o,serializationVersion:s}=e,a=r.instantiateMiniSearch(e,t);for(var[h,c]of(a._documentIds=yield q(i),a._fieldLength=yield q(u),a._storedFields=yield q(o),a._documentIds))a._idToShortId.set(c,h);var d=0;for(var[l,f]of n){var v=new Map;for(var m of Object.keys(f)){var D=f[m];1===s&&(D=D.ds),v.set(parseInt(m,10),yield q(D))}++d%1e3==0&&(yield J(0)),a._index.set(l,v)}return a}))()}static instantiateMiniSearch(e,t){var{documentCount:r,nextId:n,fieldIds:i,averageFieldLength:u,dirtCount:o,serializationVersion:s}=e;if(1!==s&&2!==s)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var a=new E(t);return a._documentCount=r,a._nextId=n,a._idToShortId=new Map,a._fieldIds=i,a._avgFieldLength=u,a._dirtCount=o||0,a._index=new v,a}executeQuery(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e===E.wildcard)return this.executeWildcardQuery(t);if("string"!=typeof e){var r=o(o(o({},t),e),{},{queries:void 0}),n=e.queries.map((e=>this.executeQuery(e,r)));return this.combineResults(n,r.combineWith)}var{tokenize:i,processTerm:u,searchOptions:s}=this._options,a=o(o({tokenize:i,processTerm:u},s),t),{tokenize:h,processTerm:c}=a,d=h(e).flatMap((e=>c(e))).filter((e=>!!e)).map(k(a)).map((e=>this.executeQuerySpec(e,a)));return this.combineResults(d,a.combineWith)}executeQuerySpec(e,t){var r,n,i=o(o({},this._options.searchOptions),t),u=(i.fields||this._options.fields).reduce(((e,t)=>o(o({},e),{},{[t]:A(i.boost,t)||1})),{}),{boostDocument:s,weights:a,maxFuzzy:h,bm25:c}=i,{fuzzy:d,prefix:l}=o(o({},z.weights),a),f=this._index.get(e.term),v=this.termResults(e.term,e.term,1,e.termBoost,f,u,s,c);if(e.prefix&&(r=this._index.atPrefix(e.term)),e.fuzzy){var m=!0===e.fuzzy?.2:e.fuzzy,D=m<1?Math.min(h,Math.round(e.term.length*m)):m;D&&(n=this._index.fuzzyGet(e.term,D))}if(r)for(var[F,g]of r){var p=F.length-e.term.length;if(p){null==n||n.delete(F);var _=l*F.length/(F.length+.3*p);this.termResults(e.term,F,_,e.termBoost,g,u,s,c,v)}}if(n)for(var y of n.keys()){var[w,b]=n.get(y);if(b){var C=d*y.length/(y.length+b);this.termResults(e.term,y,C,e.termBoost,w,u,s,c,v)}}return v}executeWildcardQuery(e){var t=new Map,r=o(o({},this._options.searchOptions),e);for(var[n,i]of this._documentIds){var u=r.boostDocument?r.boostDocument(i,"",this._storedFields.get(n)):1;t.set(n,{score:u,terms:[],match:{}})}return t}combineResults(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(0===e.length)return new Map;var r=t.toLowerCase(),n=x[r];if(!n)throw new Error("Invalid combination operator: ".concat(t));return e.reduce(n)||new Map}toJSON(){var e=[];for(var[t,r]of this._index){var n={};for(var[i,u]of r)n[i]=Object.fromEntries(u);e.push([t,n])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,r,n,i,u,o,s){var a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new Map;if(null==i)return a;for(var h of Object.keys(u)){var c=u[h],d=this._fieldIds[h],l=i.get(d);if(null!=l){var f=l.size,v=this._avgFieldLength[d];for(var m of l.keys())if(this._documentIds.has(m)){var D=o?o(this._documentIds.get(m),t,this._storedFields.get(m)):1;if(D){var F=l.get(m),g=this._fieldLength.get(m)[d],p=r*n*c*D*S(F,f,this._documentCount,g,v,s),_=a.get(m);if(_){_.score+=p,V(_.terms,e);var y=A(_.match,t);y?y.push(h):_.match[t]=[h]}else a.set(m,{score:p,terms:[e],match:{[t]:[h]}})}}else this.removeTerm(d,m,t),f-=1}}return a}addTerm(e,t,r){var n=this._index.fetch(r,L),i=n.get(e);if(null==i)(i=new Map).set(t,1),n.set(e,i);else{var u=i.get(t);i.set(t,(u||0)+1)}}removeTerm(e,t,r){if(this._index.has(r)){var n=this._index.fetch(r,L),i=n.get(e);null==i||null==i.get(t)?this.warnDocumentChanged(t,e,r):i.get(t)<=1?i.size<=1?n.delete(e):i.delete(t):i.set(t,i.get(t)-1),0===this._index.get(r).size&&this._index.delete(r)}else this.warnDocumentChanged(t,e,r)}warnDocumentChanged(e,t,r){for(var n of Object.keys(this._fieldIds))if(this._fieldIds[n]===t)return void this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(r,'" was not present in field "').concat(n,'". Removing a document after it has changed can corrupt the index!'),"version_conflict")}addDocumentId(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,r,n){var i=this._fieldLength.get(e);null==i&&this._fieldLength.set(e,i=[]),i[t]=n;var u=(this._avgFieldLength[t]||0)*r+n;this._avgFieldLength[t]=u/(r+1)}removeFieldLength(e,t,r,n){if(1!==r){var i=this._avgFieldLength[t]*r-n;this._avgFieldLength[t]=i/(r-1)}else this._avgFieldLength[t]=0}saveStoredFields(e,t){var{storeFields:r,extractField:n}=this._options;if(null!=r&&0!==r.length){var i=this._storedFields.get(e);for(var u of(null==i&&this._storedFields.set(e,i={}),r)){var o=n(t,u);void 0!==o&&(i[u]=o)}}}}E.wildcard=Symbol("*");var A=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,x={[w]:(e,t)=>{for(var r of t.keys()){var n=e.get(r);if(null==n)e.set(r,t.get(r));else{var{score:i,terms:u,match:o}=t.get(r);n.score=n.score+i,n.match=Object.assign(n.match,o),P(n.terms,u)}}return e},[b]:(e,t)=>{var r=new Map;for(var n of t.keys()){var i=e.get(n);if(null!=i){var{score:u,terms:o,match:s}=t.get(n);P(i.terms,o),r.set(n,{score:i.score+u,terms:i.terms,match:Object.assign(i.match,s)})}}return r},[C]:(e,t)=>{for(var r of t.keys())e.delete(r);return e}},S=(e,t,r,n,i,u)=>{var{k:o,b:s,d:a}=u;return Math.log(1+(r-t+.5)/(t+.5))*(a+e*(o+1)/(e+o*(1-s+s*n/i)))},k=e=>(t,r,n)=>({term:t,fuzzy:"function"==typeof e.fuzzy?e.fuzzy(t,r,n):e.fuzzy||!1,prefix:"function"==typeof e.prefix?e.prefix(t,r,n):!0===e.prefix,termBoost:"function"==typeof e.boostTerm?e.boostTerm(t,r,n):1}),I={idField:"id",extractField:(e,t)=>e[t],tokenize:e=>e.split(N),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{"function"==typeof(null===console||void 0===console?void 0:console[e])&&console[e](t)},autoVacuum:!0},z={combineWith:w,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},O={combineWith:"and",prefix:(e,t,r)=>t===r.length-1},B={batchSize:1e3,batchWait:10},M={minDirtFactor:.1,minDirtCount:20},j=o(o({},B),M),V=(e,t)=>{e.includes(t)||e.push(t)},P=(e,t)=>{for(var r of t)e.includes(r)||e.push(r)},T=(e,t)=>{var{score:r}=e,{score:n}=t;return n-r},L=()=>new Map,W=e=>{var t=new Map;for(var r of Object.keys(e))t.set(parseInt(r,10),e[r]);return t},q=function(){var e=i((function*(e){var t=new Map,r=0;for(var n of Object.keys(e))t.set(parseInt(n,10),e[n]),++r%1e3==0&&(yield J(0));return t}));return function(t){return e.apply(this,arguments)}}(),J=e=>new Promise((t=>setTimeout(t,e))),N=/(?:[\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])+/},3682:(e,t,r)=>{r.d(t,{J:()=>E});const n=function(){function e(){}return e.prototype.then=function(t,r){const n=new e,u=this.s;if(u){const e=1&u?t:r;if(e){try{i(n,1,e(this.v))}catch(e){i(n,2,e)}return n}return this}return this.o=function(e){try{const u=e.v;1&e.s?i(n,1,t?t(u):u):r?i(n,1,r(u)):i(n,2,u)}catch(e){i(n,2,e)}},n},e}();function i(e,t,r){if(!e.s){if(r instanceof n){if(!r.s)return void(r.o=i.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(i.bind(null,e,t),i.bind(null,e,2));e.s=t,e.v=r;const u=e.o;u&&u(e)}}var u=0,o="function"==typeof WeakMap?WeakMap:function(){var e="function"==typeof Symbol?Symbol(0):"__weak$"+ ++u;this.set=function(t,r){t[e]=r},this.get=function(t){return t[e]}};function s(e,t){return new Promise((function(r,n){e.onsuccess=function(){var n=e.result;t&&(n=t(n)),r(n)},e.onerror=function(){n(e.error)}}))}function a(e,t){return s(e.openCursor(t),(function(e){return e?[e.key,e.value]:[]}))}function h(e){return new Promise((function(t,r){e.oncomplete=function(){t()},e.onabort=function(){r(e.error)},e.onerror=function(){r(e.error)}}))}function c(e){if(!function(e){if("number"==typeof e||"string"==typeof e)return!0;if("object"==typeof e&&e){if(Array.isArray(e))return!0;if("setUTCFullYear"in e)return!0;if("function"==typeof ArrayBuffer&&ArrayBuffer.isView(e))return!0;if("byteLength"in e&&"length"in e)return!0}return!1}(e))throw Error("kv-storage: The given value is not allowed as a key")}var d={};function l(e,t){return a(e,f(t))}function f(e){return e===d?IDBKeyRange.lowerBound(-1/0):IDBKeyRange.lowerBound(e,!0)}var v=new o,m=new o,D=new o,F=new o,g=function(){};function p(e,t){return t((function(t,r){try{function d(){return m.set(e,o),D.set(e,void 0),{value:h,done:void 0===o}}var u=m.get(e);if(void 0===u)return Promise.resolve({value:void 0,done:!0});var o,s,h,c=function(e,t){var r,u=-1;e:{for(var o=0;o<t.length;o++){var s=t[o][0];if(s){var a=s();if(a&&a.then)break e;if(a===e){u=o;break}}else u=o}if(-1!==u){do{for(var h=t[u][1];!h;)h=t[++u][1];var c=h();if(c&&c.then){r=!0;break e}var d=t[u][2];u++}while(d&&!d());return c}}const l=new n,f=i.bind(null,l,2);return(r?c.then(v):a.then((function r(n){for(;;){if(n===e){u=o;break}if(++o===t.length){if(-1!==u)break;return void i(l,1,h)}if(s=t[o][0]){if((n=s())&&n.then)return void n.then(r).then(void 0,f)}else u=o}do{for(var a=t[u][1];!a;)a=t[++u][1];var h=a();if(h&&h.then)return void h.then(v).then(void 0,f);var c=t[u][2];u++}while(c&&!c());i(l,1,h)}))).then(void 0,f),l;function v(e){for(;;){var r=t[u][2];if(!r||r())break;for(var n=t[++u][1];!n;)n=t[++u][1];if((e=n())&&e.then)return void e.then(v).then(void 0,f)}i(l,1,e)}}(F.get(e),[[function(){return"keys"},function(){return Promise.resolve(function(e,t){return a(e,f(t)).then((function(e){return e[0]}))}(r,u)).then((function(e){h=o=e}))}],[function(){return"values"},function(){return Promise.resolve(l(r,u)).then((function(e){var t;o=(t=e)[0],h=s=t[1]}))}],[function(){return"entries"},function(){return Promise.resolve(l(r,u)).then((function(e){var t;s=(t=e)[1],h=void 0===(o=t[0])?void 0:[o,s]}))}]]);return Promise.resolve(c&&c.then?c.then(d):d())}catch(v){return Promise.reject(v)}}))}function _(e,t){var r=new g;return F.set(r,e),v.set(r,t),m.set(r,d),D.set(r,void 0),r}g.prototype.return=function(){m.set(this,void 0)},g.prototype.next=function(){var e=this,t=v.get(this);if(!t)return Promise.reject(new TypeError("Invalid this value"));var r,n=D.get(this);return r=void 0!==n?n.then((function(){return p(e,t)})):p(this,t),D.set(this,r),r},"function"==typeof Symbol&&Symbol.asyncIterator&&(g.prototype[Symbol.asyncIterator]=function(){return this});var y=function(e,t,r){try{return null===b.get(e)&&function(e){var t=w.get(e);b.set(e,new Promise((function(r,n){var i=self.indexedDB.open(t,1);i.onsuccess=function(){var u=i.result;(function(e,t,r){if(1!==e.objectStoreNames.length)return r(A(t)),!1;if(e.objectStoreNames[0]!==C)return r(A(t)),!1;var n=e.transaction(C,"readonly").objectStore(C);return!(n.autoIncrement||n.keyPath||n.indexNames.length)||(r(A(t)),!1)})(u,t,n)&&(u.onclose=function(){b.set(e,null)},u.onversionchange=function(){u.close(),b.set(e,null)},r(u))},i.onerror=function(){return n(i.error)},i.onupgradeneeded=function(){try{i.result.createObjectStore(C)}catch(e){n(e)}}})))}(e),Promise.resolve(b.get(e)).then((function(e){var n=e.transaction(C,t),i=n.objectStore(C);return r(n,i)}))}catch(e){return Promise.reject(e)}},w=new o,b=new o,C="store",E=function(e){var t="kv-storage:"+e;b.set(this,null),w.set(this,t),this.backingStore={database:t,store:C,version:1}};function A(e){return new Error('kv-storage: database "'+e+'" corrupted')}E.prototype.set=function(e,t){try{return c(e),y(this,"readwrite",(function(r,n){return void 0===t?n.delete(e):n.put(t,e),h(r)}))}catch(e){return Promise.reject(e)}},E.prototype.get=function(e){try{return c(e),y(this,"readonly",(function(t,r){return s(r.get(e))}))}catch(e){return Promise.reject(e)}},E.prototype.delete=function(e){try{return c(e),y(this,"readwrite",(function(t,r){return r.delete(e),h(t)}))}catch(e){return Promise.reject(e)}},E.prototype.clear=function(){try{var e=this;function i(){function r(){return s(self.indexedDB.deleteDatabase(w.get(e)))}var n=function(){if(t){try{t.close()}catch(e){}return Promise.resolve(new Promise(setTimeout)).then((function(){}))}}();return n&&n.then?n.then(r):r()}var t,r=b.get(e),n=function(){if(null!==r){function i(){b.set(e,null)}var n=function(){try{var e=Promise.resolve(r).then((function(e){t=e}))}catch(e){return}return e&&e.then?e.then(void 0,(function(){})):e}();return n&&n.then?n.then(i):i()}}();return n&&n.then?n.then(i):i()}catch(e){return Promise.reject(e)}},E.prototype.keys=function(){var e=this;return _("keys",(function(t){return y(e,"readonly",t)}))},E.prototype.values=function(){var e=this;return _("values",(function(t){return y(e,"readonly",t)}))},E.prototype.entries=function(){var e=this;return _("entries",(function(t){return y(e,"readonly",t)}))},"function"==typeof Symbol&&Symbol.asyncIterator&&(E.prototype[Symbol.asyncIterator]=E.prototype.entries);new E("default")}}]);